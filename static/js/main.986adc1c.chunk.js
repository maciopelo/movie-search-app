(this["webpackJsonpmovie-search-app1"]=this["webpackJsonpmovie-search-app1"]||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(2),c=t.n(r),o=(t(13),t(5)),s=t(3),i=t(4),d=t(7),u=t(6),m=function(e){var a=e.handleInputChange,t=e.currentTitle,n=e.search;return l.a.createElement("section",{className:"searchbox-wrap"},l.a.createElement("input",{type:"text",placeholder:"Search for a movie...",className:"searchbar",onChange:a,onKeyPress:n,value:t}))},h=function(e){var a=e.result,t=e.handleModal;return l.a.createElement("div",{className:"result",onClick:function(){return t(a.imdbID)}},l.a.createElement("img",{src:a.Poster,alt:a.Title}),l.a.createElement("h3",null,a.Title))},f=function(e){var a=e.handleModal,t=e.clickedModalInfo;return l.a.createElement("div",{className:"modal-outer-wrapper"},l.a.createElement("div",{className:"modal-inner-wrapper"},l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:a}),l.a.createElement("div",{className:"modal-poster"},l.a.createElement("img",{src:t[0].Poster,alt:t[0].Title})),l.a.createElement("div",{className:"modal-content"},l.a.createElement("h1",null,t[0].Title," ",l.a.createElement("i",null,"(",t[0].Year,")")),l.a.createElement("h3",{className:"modal-rating"},"Rating: ",t[0].imdbRating),l.a.createElement("p",{className:"modal-info"},t[0].Plot))))},p=function(e){var a=e.results.map((function(a){return l.a.createElement(h,{key:a.imdbID,result:a,handleModal:e.handleModal})}));return l.a.createElement("section",{className:"results"},a,e.isModal&&l.a.createElement(f,{clickedModalInfo:e.clickedModalInfo,handleModal:e.handleModal}))},E=function(e){var a=e.handleClearPage;return l.a.createElement("header",{onClick:a},l.a.createElement("h1",null,"Movie Database"))},v="https://www.omdbapi.com/",M="&apikey=12b411fc",I=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={currentTitle:"",results:[],loaded:!1,modalsInfo:[],clickedModalInfo:[],isModal:!1},e.handleClearPage=function(){e.setState((function(e){return{results:[],modalsInfo:[],loaded:!1}}))},e.handleInputChange=function(a){e.setState({currentTitle:a.target.value})},e.search=function(a){"Enter"===a.key&&(a.target.value?fetch("".concat(v,"?s=").concat(e.state.currentTitle).concat(M)).then((function(e){return e.json()})).then((function(a){a.Search.map((function(e){return e.imdbID})).forEach((function(a){fetch("".concat(v,"?i=").concat(a).concat(M)).then((function(e){return e.json()})).then((function(a){return e.setState((function(e){return{modalsInfo:[].concat(Object(o.a)(e.modalsInfo),[a])}}))}))})),e.setState({results:a.Search,loaded:!0})})):alert("No title has been given !"))},e.handleModal=function(a){var t=e.state.modalsInfo.filter((function(e){return e.imdbID===a}));e.setState((function(e){return{clickedModalInfo:t,isModal:!e.isModal}}))},e}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(E,{handleClearPage:this.handleClearPage}),l.a.createElement("main",null,l.a.createElement(m,{handleInputChange:this.handleInputChange,search:this.search,currentTitle:this.state.currentTitle}),this.state.loaded&&l.a.createElement(p,{results:this.state.results,handleModal:this.handleModal,isModal:this.state.isModal,clickedModalInfo:this.state.clickedModalInfo})))}}]),t}(n.Component);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root"))},8:function(e,a,t){e.exports=t(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.986adc1c.chunk.js.map